if (self.CavalryLogger) { CavalryLogger.start_js(["vkfRq"]); }

__d("CometNotificationsReceiveSubscription.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"environment",type:"NotificationsStoriesEnvironmentConstants!"},{defaultValue:null,kind:"LocalArgument",name:"input",type:"CometNotificationReceiveSubscribeData!"},{defaultValue:null,kind:"LocalArgument",name:"scale",type:"Float!"},{defaultValue:null,kind:"LocalArgument",name:"notif_cache_ids",type:"[ID!]"},{defaultValue:null,kind:"LocalArgument",name:"count",type:"Int"}],b=[{kind:"Variable",name:"data",variableName:"input"}],c={alias:null,args:[{kind:"Variable",name:"environment",variableName:"environment"}],kind:"ScalarField",name:"notifications_unseen_count",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"last_update_timestamp",storageKey:null},e={kind:"Variable",name:"notif_cache_ids",variableName:"notif_cache_ids"},f={alias:null,args:[{kind:"Literal",name:"site",value:"www"}],kind:"ScalarField",name:"url",storageKey:'url(site:"www")'},g={alias:null,args:null,kind:"ScalarField",name:"seen_state",storageKey:null},h={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},i={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"renderer_data",plural:!1,selections:[h,{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"video_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"bucket_data",storageKey:null}],type:"LiveVideoNotificationRendererData",abstractKey:null}],storageKey:null},j={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},k=[{kind:"Variable",name:"environment_alias_override",variableName:"environment"},{kind:"Variable",name:"first",variableName:"count"},e,{kind:"Literal",name:"notif_query_flags",value:["IS_COMET"]},{kind:"Literal",name:"source",value:"unknown"}],l={alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},m={alias:null,args:null,kind:"ScalarField",name:"notif_id",storageKey:null},n={alias:null,args:null,kind:"ScalarField",name:"notif_cache_id",storageKey:null},o={alias:"creation_time",args:null,concreteType:"CreationTimeWithRelativeText",kind:"LinkedField",name:"creation_time_with_relative_text",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"timestamp",storageKey:null}],storageKey:null},p={alias:null,args:null,kind:"ScalarField",name:"notif_type",storageKey:null},q={alias:null,args:[{kind:"Literal",name:"notif_option_set_context",value:{client_action_types:["HIDE","UNSUB","TOGGLE_ACTIVE","OPEN_IN_INSPECTOR","REPORT_BUG"],environment:"MAIN_SURFACE",is_comet:!0,supported_display_styles:[{option_display_styles:["CHEVRON_MENU_OPTION"],option_set_display_style:"CHEVRON_MENU"}]}}],concreteType:"NotificationOptionSetsConnection",kind:"LinkedField",name:"notif_option_sets",plural:!1,selections:[{alias:null,args:null,concreteType:"NotificationOptionSetsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"NotifOptionSet",kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,concreteType:"NotifOptionSetOptionsConnection",kind:"LinkedField",name:"notif_options",plural:!1,selections:[{alias:null,args:null,concreteType:"NotifOptionSetOptionsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"NotifOption",kind:"LinkedField",name:"node",plural:!1,selections:[j,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"notif_option_renderer",plural:!1,selections:[h,{kind:"InlineFragment",selections:[{documentName:"CometNotificationsDropdownMenu_notification",fragmentName:"CometNotificationsDropdownHideMenuItem_notifOptionRenderer",fragmentPropName:"notifOptionRenderer",kind:"ModuleImport"}],type:"NotifOptionHideRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{documentName:"CometNotificationsDropdownMenu_notification",fragmentName:"CometNotificationsDropdownDefaultMenuItem_notifOptionRenderer",fragmentPropName:"notifOptionRenderer",kind:"ModuleImport"}],type:"NotifOptionDefaultRenderer",abstractKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},j],storageKey:null}],storageKey:null}],storageKey:'notif_option_sets(notif_option_set_context:{"client_action_types":["HIDE","UNSUB","TOGGLE_ACTIVE","OPEN_IN_INSPECTOR","REPORT_BUG"],"environment":"MAIN_SURFACE","is_comet":true,"supported_display_styles":[{"option_display_styles":["CHEVRON_MENU_OPTION"],"option_set_display_style":"CHEVRON_MENU"}]})'},r={kind:"InlineFragment",selections:[{documentName:"CometNotificationsListItemAttachment_notification",fragmentName:"CometNotificationsListItemFriendRequestAttachment_notifAttachments",fragmentPropName:"notifAttachments",kind:"ModuleImport"}],type:"FriendRequestNotifAttachment",abstractKey:null},s={alias:null,args:null,kind:"ScalarField",name:"length",storageKey:null},t={alias:null,args:null,kind:"ScalarField",name:"offset",storageKey:null},u={alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null},v={kind:"InlineFragment",selections:[j],type:"Node",abstractKey:"__isNode"},w={alias:null,args:null,concreteType:"WorkForeignEntityInfo",kind:"LinkedField",name:"work_foreign_entity_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null}],storageKey:null};w={alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"body",plural:!1,selections:[l,{alias:null,args:null,concreteType:"ImageAtRange",kind:"LinkedField",name:"image_ranges",plural:!0,selections:[s,t,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"entity_with_image",plural:!1,selections:[h,{alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"scale",storageKey:null},u,{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:null},v],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"InlineStyleAtRange",kind:"LinkedField",name:"inline_style_ranges",plural:!0,selections:[s,t,{alias:null,args:null,kind:"ScalarField",name:"inline_style",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"AggregatedEntitiesAtRange",kind:"LinkedField",name:"aggregated_ranges",plural:!0,selections:[s,t,{alias:null,args:null,kind:"ScalarField",name:"count",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"sample_entities",plural:!0,selections:[h,{kind:"InlineFragment",selections:[j,{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}],type:"User",abstractKey:null},v],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"EntityAtRange",kind:"LinkedField",name:"ranges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"entity",plural:!1,selections:[h,{kind:"TypeDiscriminator",abstractKey:"__isEntity"},f,{kind:"InlineFragment",selections:[j,{kind:"InlineFragment",selections:[{alias:"profile_url",args:null,kind:"ScalarField",name:"url",storageKey:null}],type:"Entity",abstractKey:"__isEntity"}],type:"Actor",abstractKey:"__isActor"},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"external_url",storageKey:null}],type:"ExternalUrl",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"time_index",storageKey:null}],type:"VideoTimeIndex",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"category_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"verification_status",storageKey:null},j],type:"Page",abstractKey:null},{kind:"InlineFragment",selections:[w],type:"User",abstractKey:null},{kind:"InlineFragment",selections:[w,{alias:null,args:null,kind:"ScalarField",name:"work_official_status",storageKey:null}],type:"Group",abstractKey:null},v],storageKey:null},s,t],storageKey:null}],storageKey:null};v={alias:null,args:[{kind:"Literal",name:"height",value:56},{kind:"Variable",name:"scale",variableName:"scale"},{kind:"Literal",name:"width",value:56}],concreteType:"Image",kind:"LinkedField",name:"notif_image",plural:!1,selections:[u],storageKey:null};s={alias:null,args:null,kind:"ScalarField",name:"www_url_should_open_in_blank_target",storageKey:null};t={alias:null,args:null,concreteType:"GlyphIconData",kind:"LinkedField",name:"icon_data",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"reaction_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"glyph_name",storageKey:null}],storageKey:null};u={alias:null,args:null,kind:"ScalarField",name:"tracking",storageKey:null};var x={kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"is_hidden",storageKey:null}]};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"CometNotificationsReceiveSubscription",selections:[{alias:null,args:b,concreteType:"CometNotificationReceiveSubscribeResponsePayload",kind:"LinkedField",name:"comet_notification_receive_subscribe",plural:!1,selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actor",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"CometToastNotification_actor"}],storageKey:null},c,d,{args:[{kind:"Variable",name:"count",variableName:"count"},e],kind:"FragmentSpread",name:"CometNotificationsList_viewerConnection"},{args:null,kind:"FragmentSpread",name:"CometNotificationsList_viewerData"}],storageKey:null},{alias:null,args:null,concreteType:"Notification",kind:"LinkedField",name:"aggregated_notification",plural:!1,selections:[f],storageKey:null},{alias:null,args:null,concreteType:"Notification",kind:"LinkedField",name:"notification",plural:!1,selections:[g,i,{args:[{kind:"Literal",name:"isToast",value:!0}],kind:"FragmentSpread",name:"CometNotificationsListItem_notification"}],storageKey:null}],storageKey:null}],type:"Subscription",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"CometNotificationsReceiveSubscription",selections:[{alias:null,args:b,concreteType:"CometNotificationReceiveSubscribeResponsePayload",kind:"LinkedField",name:"comet_notification_receive_subscribe",plural:!1,selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actor",plural:!1,selections:[h,{kind:"TypeDiscriminator",abstractKey:"__isActor"},j],storageKey:null},c,{alias:null,args:k,concreteType:"ViewerNotificationsPageConnection",kind:"LinkedField",name:"notifications_page",plural:!1,selections:[{alias:null,args:null,concreteType:"ViewerNotificationsPageEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[h,{alias:null,args:null,kind:"ScalarField",name:"row_type",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"bucket_type",storageKey:null},{alias:null,args:null,concreteType:"NotifPageBucketHeaderLink",kind:"LinkedField",name:"header_link",plural:!1,selections:[l,{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"title",plural:!1,selections:[l],storageKey:null}],type:"NotifPageBucketHeaderRow",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Notification",kind:"LinkedField",name:"notif",plural:!1,selections:[m,j,n,g,o],storageKey:null}],type:"NotifPageCachedNotificationRow",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Notification",kind:"LinkedField",name:"notif",plural:!1,selections:[m,g,j,n,p,q,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"notif_attachments",plural:!0,selections:[h,r],storageKey:null},w,v,f,s,o,t,u,x],storageKey:null}],type:"NotifPageNotificationRow",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"invalidation_reason",storageKey:null},{alias:null,args:null,concreteType:"Notification",kind:"LinkedField",name:"notif",plural:!1,selections:[m,p,j],storageKey:null}],type:"NotifPageDebugInvalidationRow",abstractKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"page_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"end_cursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"has_next_page",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:k,filters:[],handle:"comet_notifications_thin_client",key:"CometNotificationsList_notifications_page",kind:"LinkedHandle",name:"notifications_page"},d],storageKey:null},{alias:null,args:null,concreteType:"Notification",kind:"LinkedField",name:"aggregated_notification",plural:!1,selections:[f,j],storageKey:null},{alias:null,args:null,concreteType:"Notification",kind:"LinkedField",name:"notification",plural:!1,selections:[g,j,m,p,q,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"notif_attachments",plural:!0,selections:[h,r,{kind:"InlineFragment",selections:[{documentName:"CometNotificationsListItemAttachment_notification",fragmentName:"CometNotificationsListItemLiveVideoAttachment_attachment",fragmentPropName:"attachment",kind:"ModuleImport"}],type:"LiveVideoNotificationAttachment",abstractKey:null}],storageKey:null},w,v,f,s,o,t,u,i,x],storageKey:null}],storageKey:null}]},params:{id:"3794438383961199",metadata:{subscriptionName:"comet_notification_receive_subscribe"},name:"CometNotificationsReceiveSubscription",operationKind:"subscription",text:null}}}();e.exports=a}),null);
__d("CometNotificationsReceiveSubscription",["CometRelay","CurrentUser","JSScheduler","RelayRTIGraphQLSubscriptionTopicProvider","relay-runtime","CometNotificationsReceiveSubscription.graphql"],(function(a,b,c,d,e,f){"use strict";var g;b("CometRelay").graphql;var h=b("CometRelay").requestSubscription,i=b("JSScheduler").scheduleSpeculativeCallback,j=b("relay-runtime").VIEWER_ID,k=b("relay-runtime").getRequest,l=g!==void 0?g:g=b("CometNotificationsReceiveSubscription.graphql"),m={};function a(a,c,d,e){var f=k(l);f=f.params.id;f!==null&&!m[f]&&(m[f]=!0,b("RelayRTIGraphQLSubscriptionTopicProvider").registerProvider(f,function(a){return"gqls/comet_notification_receive_subscribe/actor_id_"+b("CurrentUser").getID()+"_environment_"+a.input.environment}));var g=function(a){var b=a.getRootField("comet_notification_receive_subscribe");if(b==null)return;b=b.getLinkedRecord("notification");if(b==null)return;a=a.get(j);if(a==null)return;a.setLinkedRecord(b,"new_notification")},n=null,o=!1;i(function(){o||(n=h(a,{onCompleted:d,onError:e,subscription:l,updater:g,variables:c}))});return{dispose:function(){n!=null&&(n.dispose(),n=null),o=!0}}}e.exports={NotificationsReceiveSubscription:l,subscribeToNotificationUpdates:a}}),null);